<div class="container-fluid ms-2 mt-1">
    <form [formGroup]="analyticsForm">
        <div class="row">
            <div class="col-lg-1">
                <label> From date: </label>
            </div>
            <div class="col-lg-2">
                <input type="date" class="form-control" id="inputDateFrom" name="df" formControlName="dateFrom" />
            </div>
        </div>
        <div class="row">
            <div class="col-lg-1">To Date:</div>
            <div class="col-lg-2">
                <input type="date" class="form-control" id="inputDateToh" name="dt" formControlName="dateTo" />
            </div>
        </div>
        <div class="row">
            <div class="col-2">
                <button type="button" class="btn btn-custom-delete" (click)="resetInterval()">Reset</button>
            </div>
        </div>
    </form>

    <div *ngFor="let year of $any(selectedYears | async)">
        <div class="row">
            <h1>
                <strong> {{ year }}</strong>
            </h1>
        </div>
        <div class="row">
            <div class="col-lg-4">
                <app-donut-graph
                    [labels]="$any(selectedYearTagsLabels | async)[year]"
                    [data]="$any(selectedYearTagsData | async)[year]"
                    [bgColor]="$any(selectedYearTagsBgColors | async)[year]"
                ></app-donut-graph>
            </div>
            <div class="col-lg-8">
                <app-bar-chart
                    [data]="$any(selectedYearlyMonthlyExpenses | async)[year]"
                    [labels]="YEARLY_LABELS"
                ></app-bar-chart>
            </div>
            <div *ngFor="let month of $any(selectedYearsWithMonths | async)[year]">
                <div class="row">
                    <div class="col-2">
                        <h3>
                            <strong>{{ month }}/{{ year }}</strong>
                        </h3>
                    </div>
                    <div class="col-lg-3">
                        <app-donut-graph
                            [labels]="$any(selectedYearMonthTagsLabels | async)[year][month]"
                            [data]="$any(selectedYearMonthTagsData | async)[year][month]"
                            [bgColor]="$any(selectedYearMonthTagsBgColors | async)[year][month]"
                        ></app-donut-graph>
                    </div>
                    <div class="col-lg-7">
                        <app-bar-chart
                            [data]="$any(selectedYearlyMonthlyDailyExpenses | async)[year][month]"
                            [labels]="$any(selectedYearlyMonthlyDailyLabels | async)[year][month]"
                        ></app-bar-chart>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
